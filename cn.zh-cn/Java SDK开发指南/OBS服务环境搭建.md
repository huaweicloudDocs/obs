# OBS服务环境搭建<a name="obs_21_0102"></a>

>![](public_sys-resources/icon-notice.gif) **须知：** 
>开发过程中，您有任何问题可以在github上[提交issue](https://github.com/huaweicloud/huaweicloud-sdk-java-obs/issues)，或者在[华为云对象存储服务论坛](https://bbs.huaweicloud.com/forum/forum-620-1.html)中发帖求助。[接口参考文档](https://obssdk.obs.cn-north-1.myhuaweicloud.com/apidoc/cn/java/index.html)详细介绍了每个接口的参数和使用方法。

1.  **注册云服务帐号**

    使用OBS之前必须要有一个云服务帐号。

    1.  打开浏览器。
    2.  登录公有云网站[www.huaweicloud.com](http://www.huaweicloud.com/)。
    3.  在页面右上角单击“注册”。
    4.  按需填写注册信息并单击“同意协议并注册”。

2.  **开通OBS服务**

    使用OBS服务之前必须先充值，才能正常使用OBS服务。

    1.  登录OBS管理控制台。
    2.  单击页面右上角的“费用与成本”，点击左侧资金管理。
    3.  单击“充值”，系统自动跳转到充值窗口。
    4.  根据界面提示信息，对帐户进行充值。
    5.  充值成功后，关闭充值窗口，返回管理控制台首页。
    6.  单击“对象存储服务”，开通并进入OBS管理控制台。

3.  **创建访问密钥**

    OBS通过用户帐号中的AK和SK进行签名验证，确保通过授权的帐号才能访问指定的OBS资源。以下是对AK和SK的解释说明：

    -   AK：Access Key ID，接入键标识，用户在对象存储服务系统中的接入键标识，一个接入键标识唯一对应一个用户，一个用户可以同时拥有多个接入键标识。对象存储服务系统通过接入键标识识别访问系统的用户。
    -   SK：Secret Access Key，安全接入键，用户在对象存储服务系统中的安全接入键，是用户访问对象存储服务系统的密钥，用户根据安全接入键和请求头域生成鉴权信息。安全接入键和接入键标识一一对应。

    访问密钥分永久访问密钥（AK/SK）和临时访问密钥（AK/SK和SecurityToken）两种。每个用户最多可创建两个有效的永久访问密钥。临时访问密钥只在设置的有效期内能够访问OBS，过期后需要重新获取。出于安全性考虑，建议您使用临时访问密钥访问OBS，或使用永久访问密钥访问OBS时，定期更新您的访问密钥（AK/SK）。两种密钥的获取方式如下。

    -   永久访问密钥：
        1.  登录OBS控制台。
        2.  单击页面右上角的用户名，并选择“我的凭证”。
        3.  在“我的凭证”页面，单击左侧导航栏的“访问密钥”。
        4.  在“访问密钥”页面，单击“新增访问密钥”。
        5.  在弹出的“新增访问密钥”对话框中，输入登录密码和对应验证码。

            >![](public_sys-resources/icon-note.gif) **说明：** 
            >-   用户如果未绑定邮箱和手机，则只需输入登录密码。
            >-   用户如果同时绑定了邮箱和手机，可以选择其中一种方式进行验证。

        6.  单击“确定”。
        7.  在弹出的“下载确认”提示框中，单击“确定”后，密钥会直接保存到浏览器默认的下载文件夹中。
        8.  打开下载下来的“credentials.csv”文件既可获取到访问密钥（AK和SK）。

            >![](public_sys-resources/icon-note.gif) **说明：** 
            >-   每个用户最多可创建两个有效的访问密钥。
            >-   为防止访问密钥泄露，建议您将其保存到安全的位置。如果用户在此提示框中单击“取消”，则不会下载密钥，后续也将无法重新下载。如果需要使用访问密钥，可以重新创建新的访问密钥。


    -   临时访问密钥：

        临时AK/SK和SecurityToken是系统颁发给用户的临时访问令牌，通过接口设置有效期，范围为15分钟至24小时，过期后需要重新获取。临时AK/SK和SecurityToken遵循权限最小化原则。使用临时AK/SK鉴权时，临时AK/SK和SecurityToken必须同时使用。

        获取临时访问密钥的接口请参考[获取临时AK/SK和securitytoken](https://support.huaweicloud.com/api-iam/iam_04_0002.html)。

        使用临时访问密钥的方法请参考[临时访问密钥创建OBS客户端代码](创建OBS客户端.md)。



